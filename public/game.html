<!doctype html>
<html lang="th">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Play Game</title>
    <link rel="stylesheet" href="assets/css/main.css" />
  </head>
  <body>
    <main class="app">
      <!-- SIDEBAR -->
      <aside class="sidebar">
        <div class="brand">
          <div class="brand-badge">
            <img src="assets/img/logo.png" alt="Logo" width="40" height="40" />
          </div>
          <div>
            <div class="brand-title">Faculty of Nursing</div>
            <div class="brand-sub">Khon Kaen University</div>
          </div>
        </div>

        <div class="user-card">
          <div class="user-avatar">üë§</div>
          <div class="user-meta">
            <div id="me" class="user-name">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‚Ä¶</div>
            <div id="me_sub" class="user-sub"></div>
          </div>
        </div>

        <nav class="menu">
          <a class="menu-item" href="dashboard.html">Dashboard</a>
          <a class="menu-item" href="pretest.html">Pre-test</a>
          <a
            class="menu-item active locked"
            href="game.html"
            data-menu-id="game"
            data-tooltip="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ó‡∏≥ Pre-test ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å"
            >Play Game</a
          >
          <a
            class="menu-item locked"
            href="posttest.html"
            data-menu-id="posttest"
            data-tooltip="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ó‡∏≥ Pre-test ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å"
            >Post-test</a
          >
          <a
            class="menu-item locked"
            href="certificate.html"
            data-menu-id="certificate"
            data-tooltip="‡∏ó‡∏≥ Post-test ‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ ‚â•60% ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å"
            >Certificate</a
          >
          <a class="menu-item" href="creators.html">Creators</a>
        </nav>

        <div id="teacher_tools" class="teacher-card" style="display: none">
          <div class="teacher-title">Teacher Tools</div>
          <a class="btn w-full" href="manage_questions.html">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö</a>
          <a class="btn btn-ghost w-full" href="report.html">‡∏î‡∏π‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°</a>
        </div>

        <div id="admin_tools" class="admin-card" style="display: none">
          <div class="admin-title">Admin Tools</div>
          <a class="btn w-full" href="manage_users.html">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</a>
        </div>

        <div class="sidebar-footer">
          <button id="btn_logout" class="btn btn-ghost w-full" type="button">
            ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
          </button>
        </div>
      </aside>

      <!-- CONTENT -->
      <!-- CONTENT -->
      <section class="content">
        <header class="content-header">
          <h1>PLAY GAME</h1>
          <p class="muted">‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</p>
        </header>

        <div class="card" style="text-align: center; padding: 20px">
          <div id="unity-container" style="margin: 0 auto">
            <canvas
              id="unity-canvas"
              width="960"
              height="600"
              tabindex="-1"
              style="max-width: 100%; height: auto"
            ></canvas>
            <div id="unity-loading-bar" style="display: none">
              <div
                id="unity-progress-bar-empty"
                style="
                  width: 100%;
                  height: 8px;
                  background: #333;
                  border-radius: 4px;
                "
              >
                <div
                  id="unity-progress-bar-full"
                  style="
                    width: 0%;
                    height: 100%;
                    background: #4caf50;
                    border-radius: 4px;
                  "
                ></div>
              </div>
            </div>
            <div id="unity-warning"></div>
          </div>
          <button
            id="unity-fullscreen-button"
            class="btn"
            style="margin-top: 12px"
          >
            Fullscreen
          </button>
        </div>

        <footer class="content-footer muted">
          ¬© Faculty of Nursing, Khon Kaen University
        </footer>
      </section>
    </main>
    <script src="assets/js/theme.js"></script>
    <script src="assets/js/mobile-menu.js"></script>
    <!-- User Info & Auth -->
    <script type="module" src="assets/js/userInfo.js"></script>
    <script type="module" src="assets/js/menuLock.js"></script>
    <script>
      var canvas = document.querySelector("#unity-canvas");
      var buildUrl = "unity/Build";
      var loaderUrl = buildUrl + "/build.loader.js";
      var config = {
        dataUrl: buildUrl + "/build.data",
        frameworkUrl: buildUrl + "/build.framework.js",
        codeUrl: buildUrl + "/build.wasm",
        streamingAssetsUrl: "StreamingAssets",
        companyName: "DefaultCompany",
        productName: "NurseProject",
        productVersion: "1.0",
      };

      document.querySelector("#unity-loading-bar").style.display = "block";

      var script = document.createElement("script");
      script.src = loaderUrl;
      script.onload = () => {
        createUnityInstance(canvas, config, (progress) => {
          document.querySelector("#unity-progress-bar-full").style.width =
            100 * progress + "%";
        })
          .then((unityInstance) => {
            document.querySelector("#unity-loading-bar").style.display = "none";
            document.querySelector("#unity-fullscreen-button").onclick = () => {
              unityInstance.SetFullscreen(1);
            };
          })
          .catch((message) => {
            alert(message);
          });
      };
      document.body.appendChild(script);
    </script>
  </body>
</html>
